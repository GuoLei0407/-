"use strict";(self["webpackChunktoutiao_mobile"]=self["webpackChunktoutiao_mobile"]||[]).push([[965],{5965:function(e,t,s){s.r(t),s.d(t,{default:function(){return c}});var a=function(){var e=this,t=e._self._c;return t("div",[t("van-nav-bar",{attrs:{title:"登录"}}),t("van-form",{on:{submit:e.onSubmit}},[t("van-field",{attrs:{label:"手机号",placeholder:"请输入手机号",rules:e.rules.mobile},model:{value:e.user.mobile,callback:function(t){e.$set(e.user,"mobile",t)},expression:"user.mobile"}}),t("van-field",{attrs:{label:"验证码",placeholder:"请输入验证码",rules:e.rules.code},model:{value:e.user.code,callback:function(t){e.$set(e.user,"code",t)},expression:"user.code"}}),t("div",{staticStyle:{margin:"16px"}},[t("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit",loading:e.loading}},[e._v("登录")])],1)],1)],1)},o=[],l=s(5198),i={data(){return{user:{mobile:"13797224987",code:"246810"},loading:!1,rules:{mobile:[{required:!0,message:"请填写手机号"},{pattern:/^1[2-9]\d{9}$/,message:"请输入正确的手机号"}],code:[{required:!0,message:"请填写验证码"},{pattern:/^\d{6}$/,message:"请输入6位数字验证码"}]}}},methods:{async onSubmit(){this.loading=!0;try{const e=await(0,l.UO)(this.user);this.$toast.success("登录成功"),this.$store.commit("setToken",e.data.data),console.log(e);const t=this.$route.query.back;this.$router.push(t||"/layout/home")}catch{this.$toast.fail("登录失败")}finally{this.loading=!1}}}},r=i,n=s(1001),u=(0,n.Z)(r,a,o,!1,null,null,null),c=u.exports}}]);