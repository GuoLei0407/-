"use strict";(self["webpackChunktoutiao_mobile"]=self["webpackChunktoutiao_mobile"]||[]).push([[335],{9335:function(t,i,s){s.r(i),s.d(i,{default:function(){return c}});var n=function(){var t=this,i=t._self._c;return i("div",[i("van-nav-bar",{attrs:{title:"搜索","left-arrow":""},on:{"click-left":function(i){return t.$router.go(-1)}}}),i("van-search",{attrs:{"show-action":"",placeholder:"请输入搜索关键词"},on:{input:t.onInput},scopedSlots:t._u([{key:"action",fn:function(){return[i("van-button",{attrs:{round:"",icon:"search",type:"info"},on:{click:t.onSearch}},[t._v("搜索")])]},proxy:!0}]),model:{value:t.inputValue,callback:function(i){t.inputValue="string"===typeof i?i.trim():i},expression:"inputValue"}}),t.inputValue?t.inputValue?i("van-cell-group",t._l(t.suggestList,(function(t,s){return i("van-cell",{key:s,attrs:{icon:"search",title:t}})})),1):t._e():i("van-cell-group",[i("van-cell",{attrs:{title:"历史记录"}}),t._l(t.historyList,(function(t,s){return i("van-cell",{key:s,staticClass:"hsList",attrs:{title:t}})}))],2)],1)},e=[],u=(s(6699),s(5198)),a={data(){return{inputValue:"",suggestList:[],historyList:JSON.parse(localStorage.getItem("toutiao-history"))||[]}},methods:{onSearch(){this.inputValue&&(!1===this.historyList.includes(this.inputValue)&&(this.historyList.push(this.inputValue),localStorage.setItem("toutiao-history",JSON.stringify(this.historyList))),this.$router.push("/search/result/"+this.inputValue))},async onInput(){if(this.inputValue){const t=await(0,u.g1)({q:this.inputValue});null==t.data.data.options[0]?this.suggestList=[]:this.suggestList=t.data.data.options}}}},o=a,l=s(1001),r=(0,l.Z)(o,n,e,!1,null,null,null),c=r.exports}}]);